<!DOCTYPE html>
{% block html_opener %}<html>{% endblock %}

{% block head %}
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        {% block favicon %}
            {% set favicon_path = apps.get().get('favicon_path') ?? '/bundles/pushwordcore/favicons/' %}
            <link rel="apple-touch-icon" sizes="180x180" href="{{ favicon_path }}apple-touch-icon.png">
            <link rel="icon" type="image/png" sizes="32x32" href="{{ favicon_path }}favicon-32x32.png">
            <link rel="icon" type="image/png" sizes="16x16" href="{{ favicon_path }}favicon-16x16.png">
            <link rel="manifest" href="{{ favicon_path }}site.webmanifest">
            <link rel="mask-icon" href="{{ favicon_path }}safari-pinned-tab.svg" color="#000000">
            <link rel="shortcut icon" href="{{ favicon_path }}favicon.ico">
            <meta name="apple-mobile-web-app-title" content="{{ apps.get().get('name') }}">
            <meta name="application-name" content="{{ apps.get().get('name') }}">
            <meta name="msapplication-TileColor" content="{{ app_color ?? '#fff' }}">
            <meta name="msapplication-config" content="{{ favicon_path }}browserconfig.xml">
            <meta name="theme-color" content="{{ app_color ?? '#fff' }}">
        {% endblock %}

        <title>{% block title %}Pied Web CMS !{% endblock %}</title>


        {% block css %}
            {% set stylesheets = apps.get().get('assets').stylesheets %}
            {% for stylesheet in stylesheets %}
                <link rel="stylesheet" href="{{ stylesheet }}">
            {% endfor %}
            {% block css_var %}
            <style>
            :root {
            --bg: {{ apps.get().get('color_bg') ?? '#f6f6f6' }};
            --primary: {{ apps.get().get('color_primary') ?? '#d97706' }};
            --primary-light: {{ apps.get().get('color_primary-light') ?? '#F59E0B' }};
            }
            </style>
            {% endblock %}

            {# <link rel="stylesheet" href="{{ asset('assets/app.css') }}"> #}

	        <script>document.head.insertAdjacentHTML('beforeend', '<style>.nojs{display:none}</style>');</script>
        {% endblock %}

        {% block feed %}
            <link
                rel="alternate"
                type="application/rss+xml"
                href="{{ apps.get().baseUrl|default('') }}/feed.xml"
                title="{{ apps.get().name|default('') }} &raquo; {{ 'feed.alternate_title'|trans }}"
             />
        {% endblock %}

        {% block robots %}{% endblock %}
        {% block alternate_language %}{% endblock %}
        {% block open_graph %}{% endblock %}
    </head>
{% endblock %}

    <body{% if body_class is defined %} class="{{ body_class|default('') }}"{% endif %}>

        {% block body %}{% endblock %}

        {% block script %}
            {% set javascripts = apps.get().get('assets').javascripts %}
            {% for javascript in javascripts %}
                <script src="{{ javascript }}"></script>
            {% endfor %}
            {# <script src="{{ asset('assets/app.js') }}"></script> #}
        {% endblock %}

    </body>
</html>
